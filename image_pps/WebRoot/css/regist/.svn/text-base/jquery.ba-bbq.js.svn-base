/*
 * jQuery BBQ: Back Button & Query Library - v1.2.1 - 2/17/2010
 * http://benalman.com/projects/jquery-bbq-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,E){var D,a=Array.prototype.slice,c=decodeURIComponent,q=$.param,r,k,l,h=$.bbq=$.bbq||{},j,i,n,o=$.event.special,y="hashchange",B="querystring",x="fragment",w="elemUrlAttr",A="location",z="href",C="src",v=/^.*\?|#.*$/g,u=/^.*\#/,t,d={};function g(F){return typeof F==="string";}function b(G){var F=a.call(arguments,1);return function(){return G.apply(this,F.concat(a.call(arguments)));};}function e(F){return F.replace(/^[^#]*#?(.*)$/,"$1");}function f(F){return F.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1");}function s(H,F,N,K,J){var M,L,I,O,G;if(K!==D){I=N.match(H?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/);G=I[3]||"";if(J===2&&g(K)){L=K.replace(H?u:v,"");}else{O=k(I[2]);K=g(K)?k[H?x:B](K):K;L=J===2?K:J===1?$.extend({},K,O):$.extend({},O,K);L=q(L);if(H){L=L.replace(t,c);}}M=I[1]+(H?"#":L||!I[1]?"?":"")+L+G;}else{M=F(N!==D?N:E[A][z]);}return M;}q[B]=b(s,0,f);q[x]=r=b(s,1,e);r.noEscape=function(G){G=G||"";var F=$.map(G.split(""),encodeURIComponent);t=new RegExp(F.join("|"),"g");};r.noEscape(",/");$.deparam=k=function(I,F){var H={},G={"true":!0,"false":!1,"null":null};$.each(I.replace(/\+/g," ").split("&"),function(L,Q){var P=Q.split("="),M=c(P[0]),R,J=H,K=0,N=M.split("]["),O=N.length-1;if(/\[/.test(N[0])&&/\]$/.test(N[O])){N[O]=N[O].replace(/\]$/,"");N=N.shift().split("[").concat(N);O=N.length-1;}else{O=0;}if(P.length===2){R=c(P[1]);if(F){R=R&&!isNaN(R)?+R:R==="undefined"?D:G[R]!==D?G[R]:R;}if(O){for(;K<=O;K++){M=N[K]===""?J.length:N[K];J=J[M]=K<O?J[M]||(N[K+1]&&isNaN(N[K+1])?{}:[]):R;}}else{if($.isArray(H[M])){H[M].push(R);}else{if(H[M]!==D){H[M]=[H[M],R];}else{H[M]=R;}}}}else{if(M){H[M]=F?D:"";}}});return H;};function m(G,H,F){if(H===D||typeof H==="boolean"){F=H;H=q[G?x:B]();}else{H=g(H)?H.replace(G?u:v,""):H;}return k(H,F);}k[B]=b(m,0);k[x]=l=b(m,1);$[w]||($[w]=function(F){return $.extend(d,F);})({a:z,base:z,iframe:C,img:C,input:C,form:"action",link:z,script:C});n=$[w];function p(H,F,I,G){if(!g(I)&&typeof I!=="object"){G=I;I=F;F=D;}return this.each(function(){var K=$(this),J=F||n()[(this.nodeName||"").toLowerCase()]||"",L=J&&K.attr(J)||"";K.attr(J,q[H](L,I,G));});}$.fn[B]=b(p,B);$.fn[x]=b(p,x);h.pushState=j=function(H,G){if(g(H)&&/^#/.test(H)&&G===D){G=2;}var F=H!==D,I=r(E[A][z],F?H:{},F?G:2);E[A][z]=I+(/#/.test(I)?"":"#");};h.getState=i=function(G,F){return G===D||typeof G==="boolean"?l(G):l(F)[G];};h.removeState=function(F){var G={};if(F!==D){G=i();$.each($.isArray(F)?F:arguments,function(H,I){delete G[I];});}j(G,2);};o[y]=$.extend(o[y],{add:function(F){var H;function G(I){var J=I[x]=r();I.getState=function(L,K){return L===D||typeof L==="boolean"?k(J,L):k(J,K)[L];};H.apply(this,arguments);}if($.isFunction(F)){H=F;return G;}else{H=F.handler;F.handler=G;}}});})(jQuery,this);
/*
 * jQuery hashchange event - v1.2 - 2/11/2010
 * http://benalman.com/projects/jquery-hashchange-plugin/
 * 
 * Copyright (c) 2010 "Cowboy" Ben Alman
 * Dual licensed under the MIT and GPL licenses.
 * http://benalman.com/about/license/
 */
(function($,l,k){var b,e=$.event.special,i="location",g="hashchange",h="href",a=$.browser,f=document.documentMode,d=a.msie&&(f===k||f<8),j="on"+g in l&&!d;function c(m){m=m||l[i][h];return m.replace(/^[^#]*#?(.*)$/,"$1");}$[g+"Delay"]=100;e[g]=$.extend(e[g],{setup:function(){if(j){return false;}$(b.start);},teardown:function(){if(j){return false;}$(b.stop);}});b=(function(){var p={},r,n,q,m;function o(){q=m=function(s){return s;};if(d){n=$('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow;m=function(){try{return c(n.document[i][h]);}catch(s){}};q=function(u,v){if(u!==v){try{var s=n.document;s.open().close();s[i].hash="#"+u;}catch(t){}}};q(c());}}p.start=function(){if(r){return;}var s=c();q||o();(function t(){var u=c(),v=m(s);if(u!==s){q(s=u,v);$(l).trigger(g);}else{if(v!==s){l[i][h]=l[i][h].replace(/#.*/,"")+"#"+v;}}r=setTimeout(t,$[g+"Delay"]);})();};p.stop=function(){if(!n){r&&clearTimeout(r);r=0;}};return p;})();})(jQuery,this);