var CorbisUI=CorbisUI||{};CorbisUI.Search=CorbisUI.Search||{};CorbisUI.Search.Common=CorbisUI.Search.Common||{};(function(a,d){var b=CorbisUI.Cookie;var e=["p","s","sort","sc","clt","clq","pcl","ac"];d.getSearchOptions=function(){var h=b.getCookie("searchOptions");var g;if(window.location.hash){g=CorbisUI.Hash.getHash();}else{if(h){g=b.parseCookie(h);delete g.type;}}return g||{};};d.removeNonImageParameters=function(h){var g="in";var i=a.merge([g],e);c(h,i);};d.getSearchFilters=function(){var i=a.merge([],e);var g=["q"];a.merge(i,g);var h=d.getSearchOptions();return f(h,i);};d.storeSearchOptions=function(j){j=f(a.extend({},j),e);b.storeCookie("searchOptions",j,{path:"/"});var g=b.getCookie("resultsDisplayOptionsCookie");if(g){var h=b.parseCookie(g);if(h.sort!="undefined"){delete h.sort;}var i=CorbisUI.Results.getDisplayOptions().sort;b.storeCookie("minResultsSortParam",i,{path:"/"});b.storeCookie("resultsDisplayOptionsCookie",h,{expires:365,path:"/"});}};d.removeSearchOptions=function(g){b.deleteCookie("searchOptions");};var c=function(h,i){for(var g in h){if(a.inArray(g,i)==-1){delete h[g];}}};var f=function(h,i){for(var g in h){if(a.inArray(g,i)!=-1){delete h[g];}}return h;};})(jQuery,CorbisUI.Search.Common);