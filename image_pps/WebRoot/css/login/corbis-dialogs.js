var CI=CI||{};CI.UI=CI.UI||{};CI.UI.Dialogs=CI.UI.Dialogs||{};CI.UI.Dialogs.Buttons=CI.UI.Dialogs.Buttons||{};CI.UI.Dialogs.Buttons={cancel:"取消",close:"关闭",select:"选择",selectOne:"选择一项",send:"发送"};if(typeof CI=="undefined"){var CI={};}if(typeof CI.Dialogs=="undefined"){CI.Dialogs={};}if(typeof CI.Dialogs.Templates=="undefined"){CI.Dialogs.Templates={};}CI.Dialogs.Templates.iframeModalComponent=function(a,b){var c=b||new soy.StringBuilder();c.append('<div id="iframe-container"><div id="iframe-loading"></div><iframe src="',soy.$$escapeHtml(a.iframeSrc),'" scrolling="no" frameborder="0" width="',soy.$$escapeHtml(a.width),'" height="',soy.$$escapeHtml(a.height),'"></iframe></div>');if(!b){return c.toString();}};(function(a){(function(){function b(d,g){var f=parseInt(d.css("width")),e={autoOpen:true,closeText:"",draggable:false,resizable:false,minWidth:false,minHeight:false,width:f,dialogClass:"dialog",title:d.attr("title")||"",position:"center"};a.extend(true,e,g);var c=d.dialog(e);if(e.transparentOverlay){CI.UI.Dialogs.transparentOverlay(d,e.hideEventName||"click");}d.bind("dialogclose",{dialog:d},function(h){h.data.dialog.dialog("destroy");h.data.dialog.css("width","");});a(window).bind("resize",{dialog:d},function(h){h.data.dialog.dialog("close");});return c;}this.transparentOverlay=function(c,d){a(".ui-widget-overlay").addClass("ui-transparent-overlay").one(d,function(){c.dialog("close");}).one("remove",function(){a(this).removeClass("ui-transparent-overlay");});};this.CreateDialog=function(c,d){b(c,d);};this.Dialog=function(d,c,e){d.bind(e.showEventName||"click",function(g){g.preventDefault();var f={position:{my:"left top",at:"left bottom",of:d,offset:"0 0"}};a.extend(true,f,e);CI.UI.Dialogs.CreateDialog(c,f);});};this.Menu=function(d,c,f){var e={dialogClass:"menu-dialog",modal:true,transparentOverlay:true};a.extend(true,e,f);CI.UI.Dialogs.Dialog(d,c,e);};this.Modal=function(d,c,f){var e={dialogClass:"modal-dialog",modal:true};a.extend(true,e,f);CI.UI.Dialogs.Dialog(d,c,e);};this.IFrameModal=function(f,g){var d={dialogClass:"iframe-dialog",modal:true,width:600,height:600,resizeOnLoad:false,close:function(h){a(h.target).dialog("destroy");a(this).remove();}};a.extend(true,d,g);var e=soy.renderAsFragment(CI.Dialogs.Templates.iframeModalComponent,{iframeSrc:f,width:d.width,height:d.height});var c=b(a(e),d);a("#iframe-container iframe").one("load",function(){a("#iframe-loading").remove();if(d.resizeOnLoad){var h=a(this);var i=h.contents().height();h.height(i).parent().height(i);}});return c;};this.AlertModal=function(c,e){var d={dialogClass:"info-dialog",autoOpen:false,modal:true,buttons:[{text:this.Buttons.close,"class":"primary medium",click:function(){a(this).dialog("close");}}]};a.extend(true,d,e);b(c,d);};}).apply(CI.UI.Dialogs);})(window.jQuery);