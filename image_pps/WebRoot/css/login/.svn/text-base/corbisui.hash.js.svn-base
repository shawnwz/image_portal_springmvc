var CorbisUI=CorbisUI||{};CorbisUI.Hash=CorbisUI.Hash||{};(function(a,b){var c=["a","aid","opensearch","scrl",];b.updateHash=function(l,h){var h=h||0;var j="";var m=location.href;var n="#";cleanHash=b.cleanHash(l);if(m.indexOf("#")>-1){n=m.substring(m.indexOf("#"));}if(!h){var e=b.getHash();for(var g=0,k;k=c[g];g++){delete e[k];}l=a.extend(e,l,cleanHash);j=this.buildHash(n,l,2);}else{j=this.buildHash(n,cleanHash,h);}if(a.browser.msie){var f=m.substr(0,m.indexOf("#"));var o=f.length+j.length;if(o>2048){j=j.substr(0,2048-f.length);}}var d=window.location.hash!==j;window.location.hash=j;return d;};b.getHash=function(d){return a.deparam.fragment(d||false)||false;};b.getHashParams=function(g,d){var h=[];for(var e=0,f;f=g[e];e++){h.push(this.getHashParam(f,d));}return h;};b.getHashParam=function(f,d){var e=CorbisUI.Hash.getHash(d);return e[f];};b.buildHash=function(d,f,e){return a.param.fragment(d,f,e);};b.cleanHash=function(d){var f={};for(var e in d){if(d[e]){f[e]=d[e];}}return f;};})(window.jQuery,CorbisUI.Hash);